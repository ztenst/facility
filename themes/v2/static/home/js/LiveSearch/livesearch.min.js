var LiveSearch={input:null,formatResult:function(){},init:function(t,e){var i={url:e.url||!1,defaultVal:"",data:e.data||{}};this.input=t,this.formatResult=e.formatResult,t.attr("autocomplete","off");var n=$(".result-list");t.on("keyup",function(){if($(this).val()!=i.defaultVal){var t=$(this).val();this.liveSearchTimer&&clearTimeout(this.liveSearchTimer);var e=i.url+t;this.liveSearchTimer=setTimeout(function(){t?$.ajax({method:"get",url:e,type:"json",success:function(t){var e="";$.each(t.msg,function(){e+=LiveSearch.formatResult(this)}),n.html(e),n.show()}}):n.html("")},300)}}),$(document).on("click",function(){n.hide()})},serialize:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")},destroy:function(){this.input&&this.input.unbind("keyup")}};"undefined"!=typeof jQuery&&(jQuery.fn.liveSearch=function(t){return this.each(function(){LiveSearch.init(this,t)})});